#: import Factory kivy.factory.Factory
ScreenManager:
    MainMenu:
        name: 'Menu'
    NumBad:
        name: 'NumBad'
    Credits:
        name: 'Credits'


#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import Gradient kivy_gradient.Gradient
<NumBad>:
    name: 'NumBad'
    canvas:
        Rectangle:
            size: self.size
            pos: self.pos
            texture: Gradient.vertical(get_color_from_hex("#81b4ae"), get_color_from_hex("#1f2a3d")) #, get_color_from_hex("#6DD47E"))
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint: 1, .25
            spacing: 5
            padding: 5
            Label:
                id: num1
                text: '_'
                font_name: 'data/ttf/font3.ttf'
                font_size: self.height
                background_color: (0.7176470588235294, 0.2823529411764706, 0.9764705882352941, 1)
                #size_hint: 1, .2
                canvas.before:
                    Color:
                        rgba: self.background_color
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [30]
            Label:
                id: num2
                text: '_'
                font_name: 'data/ttf/font3.ttf'
                font_size: self.height
                background_color: (0.7176470588235294, 0.2823529411764706, 0.9764705882352941, 1)
                #size_hint: 1, .2
                canvas.before:
                    Color:
                        rgba: self.background_color
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [30]
            Label:
                id: num3
                text: '_'
                font_name: 'data/ttf/font3.ttf'
                font_size: self.height
                background_color: (0.7176470588235294, 0.2823529411764706, 0.9764705882352941, 1)
                #size_hint: 1, .2
                canvas.before:
                    Color:
                        rgba: self.background_color
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [30]

        BoxLayout:
            padding: 5
            spacing: 5
            size_hint: 1, .15
            Button:
                id: exit
                #margin: 50
                #text: 'X'
                on_release:
                    app.root.current = 'Menu'
                    root.manager.transition.direction = 'down'
                    root.back()
                font_size: self.height
                font_name: 'data/ttf/font3.ttf'
                size_hint: .2, 1
                background_color: (0,0,0,0)
                canvas.before:
                    Color:
                        rgba: (0.7176470588235294, 0.2823529411764706, 0.9764705882352941, 1)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [10]
                Image:
                    source: 'data/png/exit.png'
                    center_x: self.parent.center_x/.9001
                    center_y: self.parent.center_y/1.002
                    size: 50, 100
            Label:
                id: result
                #margin: 50
                text: 'Hint'
                font_size: self.height*1.25
                font_name: 'data/ttf/font3.ttf'
                size_hint: .6, 1
                background_color: (0.7176470588235294, 0.2823529411764706, 0.9764705882352941, 1)
                canvas.before:
                    Color:
                        rgba: self.background_color
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [10]
            Label:
                id: trials
                #margin: 50
                text: '0'
                font_size: self.height/1.1
                font_name: 'data/ttf/font3.ttf'
                size_hint: .2, 1
                background_color: (0.7176470588235294, 0.2823529411764706, 0.9764705882352941, 1)
                canvas.before:
                    Color:
                        rgba: self.background_color
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [10]


        GridLayout:
            cols:3
            rows:4
            #size_hint: 1, .5
            #pos_hint: {'top': self.height}
            spacing: 5
            padding: 5
            RoundedButton:
                id: one
                text: '1'
                color: (183/255, 177/255, 210/255)
                font_size: self.height/1.5
                font_name: 'data/ttf/font3.ttf'
                on_press: root.number1_pressed()
                on_release:
                    root.number1_released()
                    root.nums(1)
            RoundedButton:
                id: two
                text: '2'
                color: (183/255, 177/255, 210/255)
                font_size: self.height/1.5
                font_name: 'data/ttf/font3.ttf'
                on_press: root.number2_pressed()
                on_release:
                    root.number2_released()
                    root.nums(2)
            RoundedButton:
                id: three
                text: '3'
                color: (183/255, 177/255, 210/255)
                font_size: self.height/1.5
                font_name: 'data/ttf/font3.ttf'
                on_press: root.number3_pressed()
                on_release:
                    root.number3_released()
                    root.nums(3)
            RoundedButton:
                id: four
                text: '4'
                color: (183/255, 177/255, 210/255)
                font_size: self.height/1.5
                font_name: 'data/ttf/font3.ttf'
                on_press: root.number4_pressed()
                on_release:
                    root.number4_released()
                    root.nums(4)
            RoundedButton:
                id: five
                text: '5'
                color: (183/255, 177/255, 210/255)
                font_size: self.height/1.5
                font_name: 'data/ttf/font3.ttf'
                on_press: root.number5_pressed()
                on_release:
                    root.number5_released()
                    root.nums(5)
            RoundedButton:
                id: six
                text: '6'
                color: (183/255, 177/255, 210/255)
                font_size: self.height/1.5
                font_name: 'data/ttf/font3.ttf'
                on_press: root.number6_pressed()
                on_release:
                    root.number6_released()
                    root.nums(6)
            RoundedButton:
                id: seven
                text: '7'
                color: (183/255, 177/255, 210/255)
                font_size: self.height/1.5
                font_name: 'data/ttf/font3.ttf'
                on_press: root.number7_pressed()
                on_release:
                    root.number7_released()
                    root.nums(7)
            RoundedButton:
                id: eight
                text: '8'
                color: (183/255, 177/255, 210/255)
                font_size: self.height/1.5
                font_name: 'data/ttf/font3.ttf'
                on_press: root.number8_pressed()
                on_release:
                    root.number8_released()
                    root.nums(8)
            RoundedButton:
                id: nine
                text: '9'
                color: (183/255, 177/255, 210/255)
                font_size: self.height/1.5
                font_name: 'data/ttf/font3.ttf'
                on_press: root.number9_pressed()
                on_release:
                    root.number9_released()
                    root.nums(9)
            RoundedButton:
                id: clear
                #text: 'Clear'
                color: (200/255, 0, 0, 1)
                font_name: 'data/ttf/font3.ttf'
                font_size: self.width/2.5
                on_press: root.clear_pressed()
                on_release:
                    root.clear_released()
                    root.clear()
                Image:
                    id: cross
                    source: 'data/png/cross1.png'
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y

            RoundedButton:
                id: zero
                text: '0'
                color: (183/255, 177/255, 210/255)
                font_size: self.height/1.5
                font_name: 'data/ttf/font3.ttf'
                on_press: root.number0_pressed()
                on_release:
                    root.number0_released()
                    root.nums(0)
            RoundedButton:
                id: enter
                #text: 'Enter'
                color: (0, 200/255, 0, 1)
                font_name: 'data/ttf/font3.ttf'
                font_size: self.width/2.5
                on_press: root.enter_pressed()
                on_release:
                    root.enter_released()
                    root.bagels()
                Image:
                    id: check
                    source: 'data/png/check1.png'
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    #size: (x, y)



<MainMenu>:
    text: 'Menu'
    canvas:
        Rectangle:
            size: self.size
            pos: self.pos
            texture: Gradient.vertical(get_color_from_hex("#81b4ae"), get_color_from_hex("#1f2a3d")) #, get_color_from_hex("#6DD47E"))

    BoxLayout:
        padding: 10
        spacing: 15
        size_hint: .85, .95
        pos_hint: {'center_x': .5, 'center_y': .5}
        orientation: 'vertical'

        Image:
            source: 'data/png/logo.png'
            size_hint: 1, 1

        Label:
            text: ''
            size_hint: 1, .0008
        GridLayout:
            cols: 1
            spacing: 5
            #size_hint: 1, .5
            RoundedButton:
                text: 'Play'
                font_size: self.width/7
                font_name: 'data/ttf/font1.ttf'
                color: (0,200/255,0,1)
                on_release:
                    app.root.current = 'NumBad'
                    root.manager.transition.direction = 'up'
            RoundedButton:
                text: 'Credits'
                font_size: self.width/7
                font_name: 'data/ttf/font1.ttf'
                on_release:
                    app.root.current = 'Credits'
                    root.manager.transition.direction = 'up'
            RoundedButton:
                text: 'Exit'
                font_size: self.width/7
                font_name: 'data/ttf/font1.ttf'
                color: (200/255,0,0,1)
                on_press: exit()


<Credits>:
    text: 'Credits'
    spacing: 5
    canvas:
        Rectangle:
            size: self.size
            pos: self.pos
            texture: Gradient.vertical(get_color_from_hex("#81b4ae"), get_color_from_hex("#1f2a3d")) #, get_color_from_hex("#6DD47E"))

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        Label:
            text: 'Credits'
            font_size: self.width/5
            font_name: 'data/ttf/font1.ttf'
        Label:
            markup: True
            text: 'Code [color=42ffff][size=20]&[/size][/color] Idea [color=42ffff][size=20]by[/size][/color]'
            #font: 40
            size_hint: 1, .2
            font_size: self.width/12
            background_color: (0.7176470588235294, 0.2823529411764706, 0.9764705882352941, 1)
            canvas.before:
                Color:
                    rgba: self.background_color
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [10]
        Label:
            text: 'Mohanad Medhat'
            font_name: 'data/ttf/font2.ttf'
            font_size: self.width/7
            size_hint: 1, .5
            canvas.before:
                Color:
                    rgba: (0, 0, 0, .3)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [10]

        Label:
            markup: True
            text: 'Design [color=42ffff][size=20]&[/size][/color] Colors [color=42ffff][size=20]by[/size][/color]'
            font: 40
            size_hint: 1, .2
            font_size: self.width/12
            background_color: (0.7176470588235294, 0.2823529411764706, 0.9764705882352941, 1)
            canvas.before:
                Color:
                    rgba: self.background_color
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [10]
        Label:
            text: 'Shams Biomy'
            font_name: 'data/ttf/font2.ttf'
            font_size: self.width/7
            size_hint: 1, .5
            canvas.before:
                Color:
                    rgba: (0, 0, 0, .3)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [10]
        Label:
            markup: True
            text: '[u]Thanks [color=42ffff]![/color][/u] '
            font: 40
            size_hint: 1, .4
            font_size: self.width/7
            background_color: (0.7176470588235294, 0.2823529411764706, 0.9764705882352941, 1)
            canvas.before:
                Color:
                    rgba: self.background_color
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [10]
        BoxLayout:
            #size_hint: 1, .6
            RoundedButton3:
                text: "Back"
                size_hint: .7, .5
                pos_hint: {'center_y': .3}
                font_size: self.width/7
                font_name: 'data/ttf/font1.ttf'
                on_release:
                    app.root.current = 'Menu'
                    root.manager.transition.direction = 'down'


<RoundedButton@Button>
    background_color: (0, 0, 0, 0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (10/255, 45/255, 80/255, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [58]
<RoundedButton1@Button>
    background_color: (0, 0, 0, 0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (1, 0, 0, .5)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [50]
<RoundedButton2@Button>
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (13/255, 194/255, 3/255, .5)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [50]

<RoundedButton3@Button>
    background_color: (0, 0, 0, 0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (10/255, 45/255, 80/255, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [30]

<Popup1Box>:
    auto_dismiss: False
    title: 'Congratulations!'
    size_hint: .8, .25
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: "Great Work! The vault is opened.\nEscape before you get caught.\nENJOY your booty ;)"
            font_size: self.width/15
        Button:
            text: "Go back to the Menu"
            font_size: self.width/15
            size_hint: 1, .33
            on_release:
                app.root.current = 'Menu'
                root.dismiss()
                #root.manager.transition.direction = 'down'


<Popup2Box>:
    auto_dismiss: False
    title: 'Warning!'
    size_hint: .8, .25
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: "You used all your chances\nThe vault reset the password\nBE CAREFUL!"
            pos_hint: {'x':0}
            font_size: self.width/15
        GridLayout:
            cols:2
            size_hint: 1, .5
            Button:
                text: "Try Again"
                font_size: self.width/6
                size_hint: .6, 1
                on_release:
                    root.dismiss()
            Button:
                text: "Go back to the Menu"
                font_size: self.width/10
                on_release:
                    app.root.current = 'Menu'
                    root.dismiss()
                    #root.manager.transition.direction = 'down'


